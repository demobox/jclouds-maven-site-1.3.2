<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia at Jun 19, 2012 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>RAT (Release Audit Tool) results</title>
    <style type="text/css" media="all">
      @import url("./css/maven-base.css");
      @import url("./css/maven-theme.css");
      @import url("./css/site.css");
    </style>
    <link rel="stylesheet" href="./css/print.css" type="text/css" media="print" />
    <meta name="Date-Revision-yyyymmdd" content="20120619" />
    <meta http-equiv="Content-Language" content="en" />
        
        </head>
  <body class="composite">
    <div id="banner">
                    <div id="bannerLeft">
                jclouds script builder
                </div>
                    <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
            
        
                <div class="xleft">
        <span id="publishDate">Last Published: 2012-06-19</span>
                  &nbsp;| <span id="projectVersion">Version: 1.3.2</span>
                      </div>
            <div class="xright">                    <a href="./" title="jclouds script builder">jclouds script builder</a>
              
        
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
             
        
                                <h5>Parent Project</h5>
                  <ul>
                  <li class="none">
                          <a href="../jclouds-project/index.html" title="jclouds Project">jclouds Project</a>
            </li>
          </ul>
                       <h5>Project Documentation</h5>
                  <ul>
                                                                                                                                                              <li class="collapsed">
                          <a href="project-info.html" title="Project Information">Project Information</a>
                  </li>
                                                                                                                                                                                                                              <li class="expanded">
                          <a href="project-reports.html" title="Project Reports">Project Reports</a>
                    <ul>
                      <li class="none">
                          <a href="apidocs/index.html" title="JavaDocs">JavaDocs</a>
            </li>
                      <li class="none">
                          <a href="emma/index.html" title="EMMA Test Coverage">EMMA Test Coverage</a>
            </li>
                      <li class="none">
                          <a href="xref-test/index.html" title="Test Source Xref">Test Source Xref</a>
            </li>
                      <li class="none">
                          <a href="xref/index.html" title="Source Xref">Source Xref</a>
            </li>
                      <li class="none">
                          <a href="surefire-report.html" title="Surefire Report">Surefire Report</a>
            </li>
                      <li class="none">
            <strong>RAT Report</strong>
          </li>
                      <li class="none">
                          <a href="pmd.html" title="PMD Report">PMD Report</a>
            </li>
                      <li class="none">
                          <a href="cpd.html" title="CPD Report">CPD Report</a>
            </li>
                      <li class="none">
                          <a href="findbugs.html" title="FindBugs Report">FindBugs Report</a>
            </li>
              </ul>
        </li>
          </ul>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                   
        
            </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        <div class="section"><h2>RAT (Release Audit Tool) results<a name="RAT_Release_Audit_Tool_results"></a></h2><p>The following document contains the results of <a class="externalLink" href="http://incubator.apache.org/rat/">RAT (Release Audit Tool)</a>.</p><p></p><div class="source"><pre>
*****************************************************
Summary
-------
Notes: 0
Binaries: 0
Archives: 0
Standards: 104

Apache Licensed: 67
Generated Documents: 0

JavaDocs are generated and so license header is optional
Generated files do not required license headers

37 Unknown Licenses

*******************************

Unapproved licenses:

  /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/main/resources/functions/abort.cmd
  /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/main/resources/functions/forget.sh
  /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/main/resources/functions/stop.cmd
  /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/main/resources/functions/sourceEnvFile.sh
  /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/main/resources/functions/sourceEnvFile.cmd
  /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/main/resources/functions/forget.cmd
  /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/main/resources/functions/findPid.sh
  /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/main/resources/functions/nextMinute.cmd
  /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/main/resources/functions/abort.sh
  /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/main/resources/functions/validateEnvFile.sh
  /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/main/resources/functions/findPid.cmd
  /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/main/resources/functions/validateEnvFile.cmd
  /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/test/resources/test_runrun.cmd
  /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/test/resources/test_seek_and_destroy.sh
  /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/test/resources/test_init.sh
  /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/test/resources/test_adminaccess_standard.sh
  /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/test/resources/test_runrun_header.sh
  /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/test/resources/test_env.cmd
  /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/test/resources/client_rb_overwrite.cmd
  /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/test/resources/test_adminaccess_plainuser.sh
  /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/test/resources/test_seek_and_destroy.cmd
  /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/test/resources/test_ebs.sh
  /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/test/resources/functions/nonewline.cmd
  /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/test/resources/functions/nonewline.sh
  /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/test/resources/client_rb_overwrite.sh
  /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/test/resources/test_env.sh
  /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/test/resources/test_script.sh
  /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/test/resources/forget.cmd
  /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/test/resources/test_adminaccess_flipped.sh
  /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/test/resources/client_rb_append.cmd
  /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/test/resources/test_find_pid.sh
  /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/test/resources/client_rb_append.sh
  /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/test/resources/test_init.cmd
  /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/test/resources/test_runrun.sh
  /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/test/resources/test_find_pid.cmd
  /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/test/resources/test_adminaccess_params.sh
  /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/test/resources/test_script.cmd

*******************************

Archives:

*****************************************************
  Files with Apache License headers will be marked AL
  Binary files (which do not require AL headers) will be marked B
  Compressed archives will be marked A
  Notices, licenses etc will be marked N
  AL    /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/main/java/org/jclouds/scriptbuilder/statements/ssh/SshdConfig.java
  AL    /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/main/java/org/jclouds/scriptbuilder/statements/ssh/InstallRSAPrivateKey.java
  AL    /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/main/java/org/jclouds/scriptbuilder/statements/ssh/SshStatements.java
  AL    /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/main/java/org/jclouds/scriptbuilder/statements/ssh/AuthorizeRSAPublicKeys.java
  AL    /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/main/java/org/jclouds/scriptbuilder/statements/login/UserAdd.java
  AL    /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/main/java/org/jclouds/scriptbuilder/statements/login/ReplaceShadowPasswordEntry.java
  AL    /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/main/java/org/jclouds/scriptbuilder/statements/login/ReplaceShadowPasswordEntryOfLoginUser.java
  AL    /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/main/java/org/jclouds/scriptbuilder/statements/login/AdminAccess.java
  AL    /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/main/java/org/jclouds/scriptbuilder/statements/login/SudoStatements.java
  AL    /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/main/java/org/jclouds/scriptbuilder/statements/login/ShadowStatements.java
  AL    /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/main/java/org/jclouds/scriptbuilder/statements/login/Sudoers.java
  AL    /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/main/java/org/jclouds/scriptbuilder/statements/login/DefaultConfiguration.java
  AL    /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/main/java/org/jclouds/scriptbuilder/EnvBuilder.java
  AL    /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/main/java/org/jclouds/scriptbuilder/functions/InitAdminAccess.java
  AL    /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/main/java/org/jclouds/scriptbuilder/functions/CredentialsFromAdminAccess.java
  AL    /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/main/java/org/jclouds/scriptbuilder/util/Utils.java
  AL    /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/main/java/org/jclouds/scriptbuilder/InitBuilder.java
  AL    /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/main/java/org/jclouds/scriptbuilder/ScriptBuilder.java
  AL    /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/main/java/org/jclouds/scriptbuilder/domain/PipeHttpResponseTo.java
  AL    /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/main/java/org/jclouds/scriptbuilder/domain/Statement.java
  AL    /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/main/java/org/jclouds/scriptbuilder/domain/InterpretableStatement.java
  AL    /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/main/java/org/jclouds/scriptbuilder/domain/JavaInitMetadata.java
  AL    /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/main/java/org/jclouds/scriptbuilder/domain/CreateFile.java
  AL    /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/main/java/org/jclouds/scriptbuilder/domain/CreateOrOverwriteFile.java
  AL    /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/main/java/org/jclouds/scriptbuilder/domain/Statements.java
  AL    /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/main/java/org/jclouds/scriptbuilder/domain/PipeHttpResponseToBash.java
  AL    /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/main/java/org/jclouds/scriptbuilder/domain/AcceptsStatementVisitor.java
  AL    /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/main/java/org/jclouds/scriptbuilder/domain/Kill.java
  AL    /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/main/java/org/jclouds/scriptbuilder/domain/SaveHttpResponseTo.java
  AL    /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/main/java/org/jclouds/scriptbuilder/domain/UnzipHttpResponseIntoDirectory.java
  AL    /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/main/java/org/jclouds/scriptbuilder/domain/Call.java
  AL    /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/main/java/org/jclouds/scriptbuilder/domain/StatementVisitor.java
  AL    /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/main/java/org/jclouds/scriptbuilder/domain/OsFamily.java
  AL    /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/main/java/org/jclouds/scriptbuilder/domain/AppendFile.java
  AL    /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/main/java/org/jclouds/scriptbuilder/domain/AdminAccessVisitor.java
  AL    /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/main/java/org/jclouds/scriptbuilder/domain/ShellToken.java
  AL    /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/main/java/org/jclouds/scriptbuilder/domain/StatementList.java
  AL    /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/main/java/org/jclouds/scriptbuilder/domain/InitMetadata.java
  AL    /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/main/java/org/jclouds/scriptbuilder/domain/PipeHttpResponseToTarxpzfIntoDirectory.java
  AL    /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/main/java/org/jclouds/scriptbuilder/domain/StoppableJavaInitMetadata.java
  AL    /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/main/java/org/jclouds/scriptbuilder/domain/CreateRunScript.java
  AL    /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/main/java/org/jclouds/scriptbuilder/domain/SwitchArg.java
 !????? /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/main/resources/functions/abort.cmd
 !????? /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/main/resources/functions/forget.sh
 !????? /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/main/resources/functions/stop.cmd
 !????? /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/main/resources/functions/sourceEnvFile.sh
 !????? /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/main/resources/functions/sourceEnvFile.cmd
 !????? /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/main/resources/functions/forget.cmd
 !????? /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/main/resources/functions/findPid.sh
 !????? /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/main/resources/functions/nextMinute.cmd
 !????? /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/main/resources/functions/abort.sh
 !????? /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/main/resources/functions/validateEnvFile.sh
 !????? /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/main/resources/functions/findPid.cmd
 !????? /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/main/resources/functions/validateEnvFile.cmd
  AL    /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/test/java/org/jclouds/scriptbuilder/statements/ssh/AuthorizeRSAPublicKeyTest.java
  AL    /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/test/java/org/jclouds/scriptbuilder/statements/ssh/InstallRSAPrivateKeyTest.java
  AL    /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/test/java/org/jclouds/scriptbuilder/statements/ssh/SshStatementsTest.java
  AL    /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/test/java/org/jclouds/scriptbuilder/statements/login/UserAddTest.java
  AL    /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/test/java/org/jclouds/scriptbuilder/statements/login/ReplaceShadowPasswordEntryTest.java
  AL    /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/test/java/org/jclouds/scriptbuilder/statements/login/ReplaceShadowPasswordEntryOfLoginUserTest.java
  AL    /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/test/java/org/jclouds/scriptbuilder/statements/login/TestConfiguration.java
  AL    /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/test/java/org/jclouds/scriptbuilder/statements/login/AdminAccessTest.java
  AL    /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/test/java/org/jclouds/scriptbuilder/statements/login/SudoStatementsTest.java
  AL    /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/test/java/org/jclouds/scriptbuilder/functions/CredentialsFromAdminAccessTest.java
  AL    /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/test/java/org/jclouds/scriptbuilder/functions/InitAdminAccessTest.java
  AL    /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/test/java/org/jclouds/scriptbuilder/InitBuilderTest.java
  AL    /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/test/java/org/jclouds/scriptbuilder/util/UtilsTest.java
  AL    /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/test/java/org/jclouds/scriptbuilder/EnvBuilderTest.java
  AL    /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/test/java/org/jclouds/scriptbuilder/ScriptBuilderTest.java
  AL    /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/test/java/org/jclouds/scriptbuilder/domain/UnzipHttpResponseIntoDirectoryToTest.java
  AL    /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/test/java/org/jclouds/scriptbuilder/domain/CreateRunScriptTest.java
  AL    /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/test/java/org/jclouds/scriptbuilder/domain/StatementListTest.java
  AL    /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/test/java/org/jclouds/scriptbuilder/domain/AppendFileTest.java
  AL    /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/test/java/org/jclouds/scriptbuilder/domain/ShellTokenTest.java
  AL    /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/test/java/org/jclouds/scriptbuilder/domain/CreateOrOverwriteFileTest.java
  AL    /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/test/java/org/jclouds/scriptbuilder/domain/CallTest.java
  AL    /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/test/java/org/jclouds/scriptbuilder/domain/SwitchArgTest.java
  AL    /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/test/java/org/jclouds/scriptbuilder/domain/PipeHttpResponseToTest.java
 !????? /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/test/resources/test_runrun.cmd
 !????? /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/test/resources/test_seek_and_destroy.sh
 !????? /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/test/resources/test_init.sh
 !????? /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/test/resources/test_adminaccess_standard.sh
 !????? /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/test/resources/test_runrun_header.sh
 !????? /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/test/resources/test_env.cmd
 !????? /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/test/resources/client_rb_overwrite.cmd
 !????? /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/test/resources/test_adminaccess_plainuser.sh
 !????? /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/test/resources/test_seek_and_destroy.cmd
 !????? /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/test/resources/test_ebs.sh
 !????? /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/test/resources/functions/nonewline.cmd
 !????? /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/test/resources/functions/nonewline.sh
 !????? /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/test/resources/client_rb_overwrite.sh
 !????? /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/test/resources/test_env.sh
 !????? /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/test/resources/test_script.sh
 !????? /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/test/resources/forget.cmd
 !????? /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/test/resources/test_adminaccess_flipped.sh
 !????? /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/test/resources/client_rb_append.cmd
 !????? /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/test/resources/test_find_pid.sh
 !????? /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/test/resources/client_rb_append.sh
 !????? /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/test/resources/test_init.cmd
 !????? /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/test/resources/test_runrun.sh
 !????? /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/test/resources/test_find_pid.cmd
 !????? /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/test/resources/test_adminaccess_params.sh
 !????? /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/test/resources/test_script.cmd
  AL    /scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/pom.xml
 
 *****************************************************
 Printing headers for files without AL header...
 
 
 =======================================================================
 ==/scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/main/resources/functions/abort.cmd
 =======================================================================
:abort
   echo aborting: %EXCEPTION%
   exit /b 1

 =======================================================================
 ==/scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/main/resources/functions/forget.sh
 =======================================================================
function forget {
   unset FOUND_PID;
   [ $# -eq 3 ] || {
      abort &quot;forget requires parameters INSTANCE_NAME SCRIPT LOG_DIR&quot;
      return 1
   }
   local INSTANCE_NAME=&quot;$1&quot;; shift
   local SCRIPT=&quot;$1&quot;; shift
   local LOG_DIR=&quot;$1&quot;; shift
   mkdir -p $LOG_DIR
   findPid $INSTANCE_NAME
   [ -n &quot;$FOUND_PID&quot; -a -f $LOG_DIR/stdout.log ] &amp;&amp; {
      echo $INSTANCE_NAME already running pid [$FOUND_PID]
      return 1;
   } || {
      nohup $SCRIPT &gt;$LOG_DIR/stdout.log 2&gt;$LOG_DIR/stderr.log &amp;
      RETURN=$?
      # this is generally followed by findPid, so we shouldn't exit 
      # immediately as the proc may not have registered in ps, yet
      test $RETURN &amp;&amp; sleep 1
      return $RETURN;
   }
}

 =======================================================================
 ==/scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/main/resources/functions/stop.cmd
 =======================================================================
:abort
   CALL :findProcess %INSTANCE_NAME%
   if defined _pid (
      echo stopping %INSTANCE_NAME%
      TASKKILL /F /T /PID %FOUND_PID% &gt;NUL
   )
   schtasks /end /tn %INSTANCE_NAME% &gt;NUL 2&gt;NUL
   schtasks /delete /tn %INSTANCE_NAME% /F &gt;NUL 2&gt;NUL
   exit /b 0

 =======================================================================
 ==/scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/main/resources/functions/sourceEnvFile.sh
 =======================================================================
function sourceEnvFile {
   [ $# -eq 1 ] || {
      abort &quot;sourceEnvFile requires a parameter of the file to source&quot;
      return 1
   }
   local ENV_FILE=&quot;$1&quot;; shift
   . &quot;$ENV_FILE&quot; || {
      abort &quot;Please append 'return 0' to the end of '$ENV_FILE'&quot;
      return 1
   }
   return 0
}

 =======================================================================
 ==/scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/main/resources/functions/sourceEnvFile.cmd
 =======================================================================
:sourceEnvFile
   set ENV_FILE=%1
   shift
   if not defined ENV_FILE (
      set EXCEPTION=sourceEnvFile requires a parameter of the file to source
      exit /b 1
   )
   call %ENV_FILE%
   if errorlevel 1 (
      set EXCEPTION=Please append 'exit /b 0' to the end of '%ENV_FILE%'
      exit /b 1
   )
   exit /b 0

 =======================================================================
 ==/scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/main/resources/functions/forget.cmd
 =======================================================================
:forget
   SETLOCAL
   set FOUND_PID=
   set NEXT_MINUTE=
   set INSTANCE_NAME=%1
   shift
   set SCRIPT=%1
   shift
   set LOG_DIR=%1
   shift
   CALL :findProcess %INSTANCE_NAME%
   if defined FOUND_PID (
      echo %INSTANCE_NAME% already running pid [%FOUND_PID%]
   ) else (
      CALL :nextMinute
      set _DATE=%DATE:~4%
      set CMD=schtasks /create /sd %_DATE% /tn %INSTANCE_NAME% /ru System /tr &quot;cmd /c title %INSTANCE_NAME%&amp;%SCRIPT% &gt;%LOG_DIR%\stdout.log 2&gt;%LOG_DIR%\stderr.log&quot; /sc:once /st %NEXT_MINUTE%
      echo %INSTANCE_NAME% will start at %NEXT_MINUTE%
      set SECONDS=%TIME:~6,2%
      set /a SECOND=60-SECONDS
      %CMD% &gt;NUL
      ping -n %SECONDS% 127.0.0.1 &gt; NUL 2&gt;&amp;1
      CALL :findProcess %INSTANCE_NAME%
      if not defined FOUND_PID (
         set EXCEPTION=%INSTANCE_NAME% did not start
         abort
      )
   ) 
   exit /b 0

 =======================================================================
 ==/scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/main/resources/functions/findPid.sh
 =======================================================================
function findPid {
   unset FOUND_PID;
   [ $# -eq 1 ] || {
      abort &quot;findPid requires a parameter of pattern to match&quot;
      return 1
   }
   local PATTERN=&quot;$1&quot;; shift
   local _FOUND=`ps auxwww|grep &quot;$PATTERN&quot;|grep -v &quot; $0&quot;|grep -v grep|grep -v $$|awk '{print $2}'`
   [ -n &quot;$_FOUND&quot; ] &amp;&amp; {
      export FOUND_PID=$_FOUND
      return 0
   } || {
      return 1
   }
}

 =======================================================================
 ==/scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/main/resources/functions/nextMinute.cmd
 =======================================================================
:nextMinute
   SETLOCAL
   set HOURS=%TIME:~0,2%
   set MINUTES=%TIME:~3,2%

   set /a HOURS=%HOURS%
   set /a MINUTES+=1

   if %MINUTES% EQU 60 (set MINUTES=0&amp;set /a HOURS+=1)
   if %HOURS% EQU 24 (set HOURS=0)

   if %HOURS% LSS 10 set HOURS=0%HOURS%
   if %MINUTES% LSS 10 set MINUTES=0%MINUTES%

   ENDLOCAL&amp;SET NEXT_MINUTE=%HOURS%:%MINUTES%:00
   exit /b 0

 =======================================================================
 ==/scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/main/resources/functions/abort.sh
 =======================================================================
function abort {
   echo &quot;aborting: $@&quot; 1&gt;&amp;2
   exit 1
}

 =======================================================================
 ==/scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/main/resources/functions/validateEnvFile.sh
 =======================================================================
function validateEnvFile {
   [ $# -eq 1 ] || {
      abort &quot;validateEnvFile requires a parameter of the file to source&quot;
      return 1
   }
   local ENV_FILE=&quot;$1&quot;; shift
   [ -f &quot;$ENV_FILE&quot; ] || {
      abort &quot;env file '$ENV_FILE' does not exist&quot;
      return 1
   }
   [ -r &quot;$ENV_FILE&quot; ] || {
      abort &quot;env file '$ENV_FILE' is not readable&quot;
      return 1
   }
   grep '\&lt;exit\&gt;' &quot;$ENV_FILE&quot; &gt; /dev/null &amp;&amp; {
      abort &quot;please remove the 'exit' statement from env file '$ENV_FILE'&quot;
      return 1
   }
   [ -x &quot;$ENV_FILE&quot; ] &amp;&amp; {
      abort &quot;please remove the execute permission from env file '$ENV_FILE'&quot;
      return 1
   }
   return 0
}

 =======================================================================
 ==/scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/main/resources/functions/findPid.cmd
 =======================================================================
:findPid
   set FOUND_PID=
   set _expression=%1
   shift
   set FIND_PROCESS=TASKLIST /FI &quot;WINDOWTITLE eq %_expression%&quot; /NH
   FOR /F &quot;usebackq tokens=2 delims= &quot; %%A IN (`cmd /c &quot;%FIND_PROCESS% 2&gt;NUL&quot;`) DO (
      SET FOUND_PID=%%A
   )
   if defined FOUND_PID (
      exit /b 0
   ) else (
      set EXCEPTION=%_expression% not found
      exit /b 1
   )

 =======================================================================
 ==/scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/main/resources/functions/validateEnvFile.cmd
 =======================================================================
:validateEnvFile
   set ENV_FILE=%1
   shift
   if not defined ENV_FILE (
      set EXCEPTION=validateEnvFile requires a parameter of the file to source
      exit /b 1
   )
   if not exist &quot;%ENV_FILE%&quot; (
      set EXCEPTION=env file '%ENV_FILE%' does not exist
      exit /b 1
   )
   exit /b 0

 =======================================================================
 ==/scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/test/resources/test_runrun.cmd
 =======================================================================
md %TEMP%\%USERNAME%\scripttest
del %TEMP%\%USERNAME%\scripttest\yahooprod.cmd 2&gt;NUL
echo @echo off&gt;&gt;%TEMP%\%USERNAME%\scripttest\yahooprod.cmd
echo title yahooprod&gt;&gt;%TEMP%\%USERNAME%\scripttest\yahooprod.cmd
echo set PATH=c:\windows\;C:\windows\system32;c:\windows\system32\wbem&gt;&gt;%TEMP%\%USERNAME%\scripttest\yahooprod.cmd
echo set INSTANCE_NAME=yahooprod&gt;&gt;%TEMP%\%USERNAME%\scripttest\yahooprod.cmd
echo set JAVA_HOME=%JAVA_HOME%&gt;&gt;%TEMP%\%USERNAME%\scripttest\yahooprod.cmd
echo cd /d %TEMP%\%USERNAME%\scripttest&gt;&gt;%TEMP%\%USERNAME%\scripttest\yahooprod.cmd
md %TEMP%\%USERNAME%\scripttest
del %TEMP%\%USERNAME%\scripttest\yahooprod.cmd 2&gt;NUL
echo @echo off&gt;&gt;%TEMP%\%USERNAME%\scripttest\yahooprod.cmd
echo title yahooprod&gt;&gt;%TEMP%\%USERNAME%\scripttest\yahooprod.cmd
echo set PATH=c:\windows\;C:\windows\system32;c:\windows\system32\wbem&gt;&gt;%TEMP%\%USERNAME%\scripttest\yahooprod.cmd
echo set INSTANCE_NAME=yahooprod&gt;&gt;%TEMP%\%USERNAME%\scripttest\yahooprod.cmd
echo set JAVA_HOME=%JAVA_HOME%&gt;&gt;%TEMP%\%USERNAME%\scripttest\yahooprod.cmd
echo cd /d %TEMP%\%USERNAME%\scripttest&gt;&gt;%TEMP%\%USERNAME%\scripttest\yahooprod.cmd
echo exit /b 0 &gt;&gt;%TEMP%\%USERNAME%\scripttest\yahooprod.cmd

 =======================================================================
 ==/scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/test/resources/test_seek_and_destroy.sh
 =======================================================================
#!/bin/bash
set +u
shopt -s xpg_echo
shopt -s expand_aliases
unset PATH JAVA_HOME LD_LIBRARY_PATH
function abort {
   echo &quot;aborting: $@&quot; 1&gt;&amp;2
   exit 1
}
function findPid {
   unset FOUND_PID;
   [ $# -eq 1 ] || {
      abort &quot;findPid requires a parameter of pattern to match&quot;
      return 1
   }
   local PATTERN=&quot;$1&quot;; shift
   local _FOUND=`ps auxwww|grep &quot;$PATTERN&quot;|grep -v &quot; $0&quot;|grep -v grep|grep -v $$|awk '{print $2}'`
   [ -n &quot;$_FOUND&quot; ] &amp;&amp; {
      export FOUND_PID=$_FOUND
      return 0
   } || {
      return 1
   }
}
export PATH=/usr/ucb/bin:/bin:/sbin:/usr/bin:/usr/sbin
findPid $@ || exit 1
[ -n &quot;$FOUND_PID&quot; ]  &amp;&amp; {
   echo stopping $FOUND_PID
   kill -9 $FOUND_PID
}
exit 0

 =======================================================================
 ==/scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/test/resources/test_init.sh
 =======================================================================
#!/bin/bash
set +u
shopt -s xpg_echo
shopt -s expand_aliases
unset PATH JAVA_HOME LD_LIBRARY_PATH
function abort {
   echo &quot;aborting: $@&quot; 1&gt;&amp;2
   exit 1
}
function default {
   export INSTANCE_NAME=&quot;mkebsboot&quot;
export INSTANCE_HOME=&quot;/mnt/tmp&quot;
export LOG_DIR=&quot;/mnt/tmp&quot;
   return 0
}
function mkebsboot {
   export TMP_DIR=&quot;/mnt/tmp&quot;
   return 0
}
function findPid {
   unset FOUND_PID;
   [ $# -eq 1 ] || {
      abort &quot;findPid requires a parameter of pattern to match&quot;
      return 1
   }
   local PATTERN=&quot;$1&quot;; shift
   local _FOUND=`ps auxwww|grep &quot;$PATTERN&quot;|grep -v &quot; $0&quot;|grep -v grep|grep -v $$|awk '{print $2}'`
   [ -n &quot;$_FOUND&quot; ] &amp;&amp; {
      export FOUND_PID=$_FOUND
      return 0
   } || {
      return 1
   }
}
function forget {
   unset FOUND_PID;
   [ $# -eq 3 ] || {
      abort &quot;forget requires parameters INSTANCE_NAME SCRIPT LOG_DIR&quot;
      return 1
   }
   local INSTANCE_NAME=&quot;$1&quot;; shift
   local SCRIPT=&quot;$1&quot;; shift
   local LOG_DIR=&quot;$1&quot;; shift
   mkdir -p $LOG_DIR
   findPid $INSTANCE_NAME
   [ -n &quot;$FOUND_PID&quot; -a -f $LOG_DIR/stdout.log ] &amp;&amp; {
      echo $INSTANCE_NAME already running pid [$FOUND_PID]
      return 1;
   } || {
      nohup $SCRIPT &gt;$LOG_DIR/stdout.log 2&gt;$LOG_DIR/stderr.log &amp;

 =======================================================================
 ==/scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/test/resources/test_adminaccess_standard.sh
 =======================================================================
rm /etc/sudoers
cat &gt;&gt; /etc/sudoers &lt;&lt;'END_OF_FILE'
root ALL = (ALL) ALL
%wheel ALL = (ALL) NOPASSWD:ALL
END_OF_FILE
chmod 0440 /etc/sudoers
mkdir -p /home/users
groupadd -f wheel
useradd -s /bin/bash -g wheel -m  -d /home/users/defaultAdminUsername -p 'crypt(0)' defaultAdminUsername
mkdir -p /home/users/defaultAdminUsername/.ssh
cat &gt;&gt; /home/users/defaultAdminUsername/.ssh/authorized_keys &lt;&lt;'END_OF_FILE'
publicKey
END_OF_FILE
chmod 600 /home/users/defaultAdminUsername/.ssh/authorized_keys
chown -R defaultAdminUsername /home/users/defaultAdminUsername
exec 3&lt;&gt; /etc/ssh/sshd_config &amp;&amp; awk -v TEXT=&quot;PasswordAuthentication no
PermitRootLogin no
&quot; 'BEGIN {print TEXT}{print}' /etc/ssh/sshd_config &gt;&amp;3
/etc/init.d/sshd reload||/etc/init.d/ssh reload
awk -v user=^${SUDO_USER:=${USER}}: -v password='crypt(1)' 'BEGIN { FS=OFS=&quot;:&quot; } $0 ~ user { $2 = password } 1' /etc/shadow &gt;/etc/shadow.${SUDO_USER:=${USER}}
test -f /etc/shadow.${SUDO_USER:=${USER}} &amp;&amp; mv /etc/shadow.${SUDO_USER:=${USER}} /etc/shadow

 =======================================================================
 ==/scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/test/resources/test_runrun_header.sh
 =======================================================================
mkdir -p /tmp/$USER/scripttest

# create runscript header
(
cat &lt;&lt;END_OF_SCRIPT
#!/bin/bash
set +u
shopt -s xpg_echo
shopt -s expand_aliases
PROMPT_COMMAND='echo -ne &quot;\033]0;yahooprod\007&quot;'
export PATH=/usr/ucb/bin:/bin:/sbin:/usr/bin:/usr/sbin
export INSTANCE_NAME='yahooprod'
export JAVA_HOME='$JAVA_HOME'
END_OF_SCRIPT
) &gt; /tmp/$USER/scripttest/yahooprod.sh

# add desired commands from the user
(
cat &lt;&lt;'END_OF_SCRIPT'
cd /tmp/$USER/scripttest
echo hello
echo $JAVA_HOME/bin/java -DinstanceName=$INSTANCE_NAME myServer.Main
END_OF_SCRIPT
) &gt;&gt; /tmp/$USER/scripttest/yahooprod.sh

# add runscript footer
(
cat &lt;&lt;'END_OF_SCRIPT'
exit 0
END_OF_SCRIPT
) &gt;&gt; /tmp/$USER/scripttest/yahooprod.sh

chmod u+x /tmp/$USER/scripttest/yahooprod.sh

 =======================================================================
 ==/scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/test/resources/test_env.cmd
 =======================================================================
@rem Env file: please do not confuse people by making this executable
@rem
@rem Example usage to set a variable
@rem
@rem set MAVEN_OPTS=-Xms64m -Xmx128m

set JAVA_HOME=/apps/jdk1.6

@rem Please retain this statement so that the script can be validated
exit /b 0

 =======================================================================
 ==/scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/test/resources/client_rb_overwrite.cmd
 =======================================================================
copy /y CON c:\etc\chef\client.rb
echo log_level :info &gt;&gt;c:\etc\chef\client.rb
echo log_location STDOUT &gt;&gt;c:\etc\chef\client.rb
echo chef_server_url &quot;http://localhost:4000&quot; &gt;&gt;c:\etc\chef\client.rb

 =======================================================================
 ==/scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/test/resources/test_adminaccess_plainuser.sh
 =======================================================================
mkdir -p /home/users
useradd -s /bin/bash -m  -d /home/users/defaultAdminUsername -p 'crypt(0)' defaultAdminUsername
mkdir -p /home/users/defaultAdminUsername/.ssh
cat &gt;&gt; /home/users/defaultAdminUsername/.ssh/authorized_keys &lt;&lt;'END_OF_FILE'
publicKey
END_OF_FILE
chmod 600 /home/users/defaultAdminUsername/.ssh/authorized_keys
mkdir -p /home/users/defaultAdminUsername/.ssh
rm /home/users/defaultAdminUsername/.ssh/id_rsa
cat &gt;&gt; /home/users/defaultAdminUsername/.ssh/id_rsa &lt;&lt;'END_OF_FILE'
privateKey
END_OF_FILE
chmod 600 /home/users/defaultAdminUsername/.ssh/id_rsa
chown -R defaultAdminUsername /home/users/defaultAdminUsername

 =======================================================================
 ==/scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/test/resources/test_seek_and_destroy.cmd
 =======================================================================
@echo off
set PATH=
set JAVA_HOME=
set PATH=
GOTO FUNCTION_END
:abort
   echo aborting: %EXCEPTION%
   exit /b 1
:findPid
   set FOUND_PID=
   set _expression=%1
   shift
   set FIND_PROCESS=TASKLIST /FI &quot;WINDOWTITLE eq %_expression%&quot; /NH
   FOR /F &quot;usebackq tokens=2 delims= &quot; %%A IN (`cmd /c &quot;%FIND_PROCESS% 2&gt;NUL&quot;`) DO (
      SET FOUND_PID=%%A
   )
   if defined FOUND_PID (
      exit /b 0
   ) else (
      set EXCEPTION=%_expression% not found
      exit /b 1
   )
:FUNCTION_END
set PATH=c:\windows\;C:\windows\system32;c:\windows\system32\wbem
call :findPid %*
if errorlevel 1 goto abort
if defined FOUND_PID (
   TASKKILL /F /T /PID %FOUND_PID% &gt;NUL
)
exit /b 0

 =======================================================================
 ==/scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/test/resources/test_ebs.sh
 =======================================================================
#!/bin/bash
set +u
shopt -s xpg_echo
shopt -s expand_aliases
unset PATH JAVA_HOME LD_LIBRARY_PATH
function abort {
   echo &quot;aborting: $@&quot; 1&gt;&amp;2
   exit 1
}
function default {
   export INSTANCE_NAME=&quot;mkebsboot&quot;
export INSTANCE_HOME=&quot;/tmp&quot;
export LOG_DIR=&quot;/tmp/logs&quot;
   return 0
}
function mkebsboot {
   export IMAGE_DIR=&quot;/mnt/tmp&quot;
export EBS_DEVICE=&quot;/dev/sdh&quot;
export EBS_MOUNT_POINT=&quot;/mnt/ebs&quot;
   return 0
}
function findPid {
   unset FOUND_PID;
   [ $# -eq 1 ] || {
      abort &quot;findPid requires a parameter of pattern to match&quot;
      return 1
   }
   local PATTERN=&quot;$1&quot;; shift
   local _FOUND=`ps auxwww|grep &quot;$PATTERN&quot;|grep -v &quot; $0&quot;|grep -v grep|grep -v $$|awk '{print $2}'`
   [ -n &quot;$_FOUND&quot; ] &amp;&amp; {
      export FOUND_PID=$_FOUND
      return 0
   } || {
      return 1
   }
}
function forget {
   unset FOUND_PID;
   [ $# -eq 3 ] || {
      abort &quot;forget requires parameters INSTANCE_NAME SCRIPT LOG_DIR&quot;
      return 1
   }
   local INSTANCE_NAME=&quot;$1&quot;; shift
   local SCRIPT=&quot;$1&quot;; shift
   local LOG_DIR=&quot;$1&quot;; shift
   mkdir -p $LOG_DIR
   findPid $INSTANCE_NAME
   [ -n &quot;$FOUND_PID&quot; -a -f $LOG_DIR/stdout.log ] &amp;&amp; {
      echo $INSTANCE_NAME already running pid [$FOUND_PID]
      return 1;

 =======================================================================
 ==/scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/test/resources/functions/nonewline.cmd
 =======================================================================
foo

 =======================================================================
 ==/scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/test/resources/functions/nonewline.sh
 =======================================================================
foo

 =======================================================================
 ==/scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/test/resources/client_rb_overwrite.sh
 =======================================================================
cat &gt; /etc/chef/client.rb &lt;&lt;'END_OF_FILE'
log_level :info
log_location STDOUT
chef_server_url &quot;http://localhost:4000&quot;
END_OF_FILE

 =======================================================================
 ==/scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/test/resources/test_env.sh
 =======================================================================
# Env file: please do not confuse people by making this executable
#
# Example usage to set a variable
#
# export MAVEN_OPTS=&quot;-Xms64m -Xmx128m&quot;

export JAVA_HOME=&quot;/apps/jdk1.6&quot;

# Please retain this statement so that the script can be validated
return 0

 =======================================================================
 ==/scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/test/resources/test_script.sh
 =======================================================================
#!/bin/bash
set +u
shopt -s xpg_echo
shopt -s expand_aliases
unset PATH JAVA_HOME LD_LIBRARY_PATH RUNTIME
function abort {
   echo &quot;aborting: $@&quot; 1&gt;&amp;2
   exit 1
}
function default {
   export RUNTIME=&quot;Moo&quot;
   return 0
}
export PATH=/usr/ucb/bin:/bin:/sbin:/usr/bin:/usr/sbin
case $1 in
start)
   default || exit 1
   echo start $RUNTIME
   ;;
stop)
   default || exit 1
   echo stop $RUNTIME
   ;;
status)
   cat &gt;&gt; /tmp/$USER/scripttest/temp.txt &lt;&lt;'END_OF_FILE'
hello world
END_OF_FILE
   echo &quot;the following should be []: [$RUNTIME]&quot;
   ;;
esac
exit 0

 =======================================================================
 ==/scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/test/resources/forget.cmd
 =======================================================================
@echo off
:: Nohup-like utility for windows written with zero dependencies on non-standard code.
::
:: Usage forget process_name fullpath arguments
::
:: Ex. forget tomcat c:\apps\tomcat start
::
:: Uses the schtasks command to launch whatever the command is in the next minute. 
:: If the process is already running, it is shutdown first.
::
:: Author Adrian Cole
::
GOTO FUNCTION_END

:ABORT
   echo aborting: %_result%
   exit /b 1

:findProcess
   SETLOCAL
   set _proc=
   set _pid=
   set _name=%1
   shift
   set FIND_PROCESS=wmic process where (name=&quot;cmd.exe&quot; and CommandLine like &quot;cmd /c title %_name%%%&quot;) get ProcessId
   for /f &quot;usebackq skip=1&quot; %%a in (`cmd /c &quot;%FIND_PROCESS% 2&gt;NUL&quot;`) do (
      if not defined _proc (
         set _proc=%%a
         goto :done
      )
   )
   :done
   ENDLOCAL&amp;SET _pid=%_proc%
   exit /b 0

:nextMinute
   SETLOCAL
   set HOURS=%TIME:~0,2%
   set MINUTES=%TIME:~3,2%

   set /a HOURS=%HOURS%
   set /a MINUTES+=1

   if %MINUTES% EQU 60 (set MINUTES=0&amp;set /a HOURS+=1)
   if %HOURS% EQU 24 (set HOURS=0)

   if %HOURS% LSS 10 set HOURS=0%HOURS%
   if %MINUTES% LSS 10 set MINUTES=0%MINUTES%

   ENDLOCAL&amp;SET _nextMinute=%HOURS%:%MINUTES%:00

 =======================================================================
 ==/scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/test/resources/test_adminaccess_flipped.sh
 =======================================================================
rm /etc/sudoers
cat &gt;&gt; /etc/sudoers &lt;&lt;'END_OF_FILE'
root ALL = (ALL) ALL
%wheel ALL = (ALL) NOPASSWD:ALL
END_OF_FILE
chmod 0440 /etc/sudoers
mkdir -p /home/users/defaultAdminUsername
groupadd -f wheel
useradd -s /bin/bash -g wheel -d /home/users/defaultAdminUsername -p 'crypt(0)' defaultAdminUsername
mkdir -p /home/users/defaultAdminUsername/.ssh
cat &gt;&gt; /home/users/defaultAdminUsername/.ssh/authorized_keys &lt;&lt;'END_OF_FILE'
publicKey
END_OF_FILE
chmod 600 /home/users/defaultAdminUsername/.ssh/authorized_keys
chown -R defaultAdminUsername /home/users/defaultAdminUsername
exec 3&lt;&gt; /etc/ssh/sshd_config &amp;&amp; awk -v TEXT=&quot;PasswordAuthentication no
PermitRootLogin no
&quot; 'BEGIN {print TEXT}{print}' /etc/ssh/sshd_config &gt;&amp;3
/etc/init.d/sshd reload||/etc/init.d/ssh reload
awk -v user=^${SUDO_USER:=${USER}}: -v password='crypt(1)' 'BEGIN { FS=OFS=&quot;:&quot; } $0 ~ user { $2 = password } 1' /etc/shadow &gt;/etc/shadow.${SUDO_USER:=${USER}}
test -f /etc/shadow.${SUDO_USER:=${USER}} &amp;&amp; mv /etc/shadow.${SUDO_USER:=${USER}} /etc/shadow

 =======================================================================
 ==/scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/test/resources/client_rb_append.cmd
 =======================================================================
echo log_level :info &gt;&gt;c:\etc\chef\client.rb
echo log_location STDOUT &gt;&gt;c:\etc\chef\client.rb
echo chef_server_url &quot;http://localhost:4000&quot; &gt;&gt;c:\etc\chef\client.rb

 =======================================================================
 ==/scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/test/resources/test_find_pid.sh
 =======================================================================
#!/bin/bash
set +u
shopt -s xpg_echo
shopt -s expand_aliases
unset PATH JAVA_HOME LD_LIBRARY_PATH
function abort {
   echo &quot;aborting: $@&quot; 1&gt;&amp;2
   exit 1
}
function findPid {
   unset FOUND_PID;
   [ $# -eq 1 ] || {
      abort &quot;findPid requires a parameter of pattern to match&quot;
      return 1
   }
   local PATTERN=&quot;$1&quot;; shift
   local _FOUND=`ps auxwww|grep &quot;$PATTERN&quot;|grep -v &quot; $0&quot;|grep -v grep|grep -v $$|awk '{print $2}'`
   [ -n &quot;$_FOUND&quot; ] &amp;&amp; {
      export FOUND_PID=$_FOUND
      return 0
   } || {
      return 1
   }
}
export PATH=/usr/ucb/bin:/bin:/sbin:/usr/bin:/usr/sbin
findPid $@ || exit 1
echo $FOUND_PID
exit 0

 =======================================================================
 ==/scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/test/resources/client_rb_append.sh
 =======================================================================
cat &gt;&gt; /etc/chef/client.rb &lt;&lt;'END_OF_FILE'
log_level :info
log_location STDOUT
chef_server_url &quot;http://localhost:4000&quot;
END_OF_FILE

 =======================================================================
 ==/scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/test/resources/test_init.cmd
 =======================================================================
@echo off
set PATH=
set JAVA_HOME=
set PATH=
GOTO FUNCTION_END
:abort
   echo aborting: %EXCEPTION%
   exit /b 1
:default
   set INSTANCE_NAME=mkebsboot
set INSTANCE_HOME=/mnt/tmp
set LOG_DIR=/mnt/tmp
   exit /b 0
:mkebsboot
   set TMP_DIR=/mnt/tmp
   exit /b 0
:findPid
   set FOUND_PID=
   set _expression=%1
   shift
   set FIND_PROCESS=TASKLIST /FI &quot;WINDOWTITLE eq %_expression%&quot; /NH
   FOR /F &quot;usebackq tokens=2 delims= &quot; %%A IN (`cmd /c &quot;%FIND_PROCESS% 2&gt;NUL&quot;`) DO (
      SET FOUND_PID=%%A
   )
   if defined FOUND_PID (
      exit /b 0
   ) else (
      set EXCEPTION=%_expression% not found
      exit /b 1
   )
:forget
   SETLOCAL
   set FOUND_PID=
   set NEXT_MINUTE=
   set INSTANCE_NAME=%1
   shift
   set SCRIPT=%1
   shift
   set LOG_DIR=%1
   shift
   CALL :findProcess %INSTANCE_NAME%
   if defined FOUND_PID (
      echo %INSTANCE_NAME% already running pid [%FOUND_PID%]
   ) else (
      CALL :nextMinute
      set _DATE=%DATE:~4%
      set CMD=schtasks /create /sd %_DATE% /tn %INSTANCE_NAME% /ru System /tr &quot;cmd /c title %INSTANCE_NAME%&amp;%SCRIPT% &gt;%LOG_DIR%\stdout.log 2&gt;%LOG_DIR%\stderr.log&quot; /sc:once /st %NEXT_MINUTE%
      echo %INSTANCE_NAME% will start at %NEXT_MINUTE%
      set SECONDS=%TIME:~6,2%
      set /a SECOND=60-SECONDS

 =======================================================================
 ==/scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/test/resources/test_runrun.sh
 =======================================================================
mkdir -p /tmp/$USER/scripttest

# create runscript header
cat &gt; /tmp/$USER/scripttest/yahooprod.sh &lt;&lt;END_OF_SCRIPT
#!/bin/bash
set +u
shopt -s xpg_echo
shopt -s expand_aliases
PROMPT_COMMAND='echo -ne &quot;\033]0;yahooprod\007&quot;'
export PATH=/usr/ucb/bin:/bin:/sbin:/usr/bin:/usr/sbin
export INSTANCE_NAME='yahooprod'
export JAVA_HOME='$JAVA_HOME'
END_OF_SCRIPT

# add desired commands from the user
cat &gt;&gt; /tmp/$USER/scripttest/yahooprod.sh &lt;&lt;'END_OF_SCRIPT'
cd /tmp/$USER/scripttest
echo hello || return 1

cat &gt;&gt; /tmp/$USER/scripttest/temp.txt &lt;&lt;'END_OF_FILE'
hello world
END_OF_FILE

echo $JAVA_HOME/bin/java -DinstanceName=$INSTANCE_NAME myServer.Main || return 1

END_OF_SCRIPT

# add runscript footer
cat &gt;&gt; /tmp/$USER/scripttest/yahooprod.sh &lt;&lt;'END_OF_SCRIPT'
exit 0
END_OF_SCRIPT

chmod u+x /tmp/$USER/scripttest/yahooprod.sh

 =======================================================================
 ==/scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/test/resources/test_find_pid.cmd
 =======================================================================
@echo off
set PATH=
set JAVA_HOME=
set PATH=
GOTO FUNCTION_END
:abort
   echo aborting: %EXCEPTION%
   exit /b 1
:findPid
   set FOUND_PID=
   set _expression=%1
   shift
   set FIND_PROCESS=TASKLIST /FI &quot;WINDOWTITLE eq %_expression%&quot; /NH
   FOR /F &quot;usebackq tokens=2 delims= &quot; %%A IN (`cmd /c &quot;%FIND_PROCESS% 2&gt;NUL&quot;`) DO (
      SET FOUND_PID=%%A
   )
   if defined FOUND_PID (
      exit /b 0
   ) else (
      set EXCEPTION=%_expression% not found
      exit /b 1
   )
:FUNCTION_END
set PATH=c:\windows\;C:\windows\system32;c:\windows\system32\wbem
call :findPid %*
if errorlevel 1 goto abort
echo %FOUND_PID%
exit /b 0

 =======================================================================
 ==/scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/test/resources/test_adminaccess_params.sh
 =======================================================================
rm /etc/sudoers
cat &gt;&gt; /etc/sudoers &lt;&lt;'END_OF_FILE'
root ALL = (ALL) ALL
%wheel ALL = (ALL) NOPASSWD:ALL
END_OF_FILE
chmod 0440 /etc/sudoers
mkdir -p /home/users
groupadd -f wheel
useradd -s /bin/bash -g wheel -m  -d /home/users/foo -p 'crypt(bar)' foo
mkdir -p /home/users/foo/.ssh
cat &gt;&gt; /home/users/foo/.ssh/authorized_keys &lt;&lt;'END_OF_FILE'
fooPublicKey
END_OF_FILE
chmod 600 /home/users/foo/.ssh/authorized_keys
chown -R foo /home/users/foo
exec 3&lt;&gt; /etc/ssh/sshd_config &amp;&amp; awk -v TEXT=&quot;PasswordAuthentication no
PermitRootLogin no
&quot; 'BEGIN {print TEXT}{print}' /etc/ssh/sshd_config &gt;&amp;3
/etc/init.d/sshd reload||/etc/init.d/ssh reload
awk -v user=^${SUDO_USER:=${USER}}: -v password='crypt(0)' 'BEGIN { FS=OFS=&quot;:&quot; } $0 ~ user { $2 = password } 1' /etc/shadow &gt;/etc/shadow.${SUDO_USER:=${USER}}
test -f /etc/shadow.${SUDO_USER:=${USER}} &amp;&amp; mv /etc/shadow.${SUDO_USER:=${USER}} /etc/shadow

 =======================================================================
 ==/scratch/hudson/workspace/jclouds-maven-site-1.3.2/scriptbuilder/src/test/resources/test_script.cmd
 =======================================================================
@echo off
set PATH=
set JAVA_HOME=
set PATH=
set RUNTIME=
GOTO FUNCTION_END
:abort
   echo aborting: %EXCEPTION%
   exit /b 1
:default
   set RUNTIME=Moo
   exit /b 0
:FUNCTION_END
set PATH=c:\windows\;C:\windows\system32;c:\windows\system32\wbem
if not &quot;%1&quot; == &quot;start&quot; if not &quot;%1&quot; == &quot;stop&quot; if not &quot;%1&quot; == &quot;status&quot; (
   set EXCEPTION=bad argument: %1 not in start stop status
   goto abort
)
goto CASE_%1
:CASE_start
   call :default
   if errorlevel 1 goto abort
   echo start %RUNTIME%
   GOTO END_SWITCH
:CASE_stop
   call :default
   if errorlevel 1 goto abort
   echo stop %RUNTIME%
   GOTO END_SWITCH
:CASE_status
   echo hello world &gt;&gt;%TEMP%\%USERNAME%\scripttest\temp.txt
   echo the following should be []: [%RUNTIME%]
   GOTO END_SWITCH
:END_SWITCH
exit /b 0
</pre></div></div>
      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">
              Copyright &#169;                    2009-2012
                        <a href="http://www.jclouds.org/">jclouds</a>.
            All Rights Reserved.      
        
                  </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
